{"remainingRequest":"/home/mi/XProjects/vue3/vue3-ncov/node_modules/ts-loader/index.js??ref--13-1!/home/mi/XProjects/vue3/vue3-ncov/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mi/XProjects/vue3/vue3-ncov/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mi/XProjects/vue3/vue3-ncov/src/pages/home.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/mi/XProjects/vue3/vue3-ncov/src/pages/home.vue","mtime":1582106662720},{"path":"/home/mi/XProjects/vue3/vue3-ncov/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mi/XProjects/vue3/vue3-ncov/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/mi/XProjects/vue3/vue3-ncov/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mi/XProjects/vue3/vue3-ncov/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgX19hc3NpZ24sIF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCwgcmVhY3RpdmUsIG9uTW91bnRlZCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgZ2V0Q2hpbmFKc29uLCBnZXRQcm92aW5jZUpzb24sIGdldFZpcnVzRGF0YSB9IGZyb20gJ0Avc2VydmljZS9BUEknOwppbXBvcnQgcHJvdmluY2VNYXAgZnJvbSAnQC9kYXRhL3Byb3ZpbmNlLW1hcCc7CmltcG9ydCBIb3RNYXAgZnJvbSAnQC9jb21wb25lbnRzL2hvdE1hcC52dWUnOwpleHBvcnQgZGVmYXVsdCBjcmVhdGVDb21wb25lbnQoewogICAgY29tcG9uZW50czogewogICAgICAgIEhvdE1hcDogSG90TWFwCiAgICB9LAogICAgc2V0dXA6IGZ1bmN0aW9uIChwcm9wcywgY29udGV4dCkgewogICAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgICAgdmFyIHByb3ZpbmNlTGlzdCA9IFt7IGxhYmVsOiAn5YWo5Zu9JywgdmFsdWU6ICdjaGluYScgfV07CiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKHByb3ZpbmNlTWFwKTsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgICAgdmFyIF9iID0gX2FbX2ldLCBsYWJlbCA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdOwogICAgICAgICAgICBwcm92aW5jZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICBsYWJlbDogbGFiZWwsCiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIHZhciBvcmlnaW4gPSB7CiAgICAgICAgICAgIG1hcFRpdGxlOiAnJywKICAgICAgICAgICAgcHJvdmluY2U6ICflhajlm70nLAogICAgICAgICAgICBtYXBUeXBlOiAnY2hpbmEnLAogICAgICAgICAgICBtYXBMaXN0OiBbXSwKICAgICAgICAgICAgcHJvdmluY2VMaXN0OiBwcm92aW5jZUxpc3QsCiAgICAgICAgICAgIG1hcERhdGE6IHt9CiAgICAgICAgfTsKICAgICAgICB2YXIgc3RhdGUgPSByZWFjdGl2ZShvcmlnaW4pOwogICAgICAgIGNvbnNvbGUubG9nKCdzdGF0ZT0+Jywgc3RhdGUpOwogICAgICAgIC8vIG1ldGhvZHMKICAgICAgICB2YXIgZ2V0TWFwRGF0YSA9IGZ1bmN0aW9uIChtYXBUeXBlKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBtYXBEYXRhLCBfYTsKICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikgewogICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobWFwVHlwZSA9PT0gJ2NoaW5hJykpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRDaGluYUpzb24oKV07CiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07CiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRQcm92aW5jZUpzb24obWFwVHlwZSldOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDsKICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgIG1hcERhdGEgPSBfYTsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubWFwRGF0YSA9IG1hcERhdGE7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7IH07CiAgICAgICAgdmFyIGdldE1hcExpc3QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciByZXMsIF9hLCBjb2RlLCBuZXdzbGlzdDsKICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikgewogICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkgewogICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0VmlydXNEYXRhKCldOwogICAgICAgICAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX2Iuc2VudCgpOwogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzPT4nLCByZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBfYSA9IHJlcy5kYXRhLCBjb2RlID0gX2EuY29kZSwgbmV3c2xpc3QgPSBfYS5uZXdzbGlzdDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubWFwTGlzdCA9IG5ld3NsaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2Fzc2lnbih7IG5hbWU6IGl0ZW0ucHJvdmluY2VTaG9ydE5hbWUsIHZhbHVlOiBpdGVtLmNvbmZpcm1lZENvdW50IH0sIGl0ZW0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9KTsgfTsKICAgICAgICB2YXIgaGFuZGxlQ2hhbmdlUHJvdmluY2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgZ2V0TWFwRGF0YSh2YWx1ZSk7CiAgICAgICAgfTsKICAgICAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAvLyB0aGlzLmluaXREYXRhKCkKICAgICAgICAgICAgZ2V0TWFwRGF0YShzdGF0ZS5tYXBUeXBlKTsKICAgICAgICAgICAgZ2V0TWFwTGlzdCgpOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0YXRlOiBzdGF0ZSwKICAgICAgICAgICAgaGFuZGxlQ2hhbmdlUHJvdmluY2U6IGhhbmRsZUNoYW5nZVByb3ZpbmNlCiAgICAgICAgfTsKICAgIH0KfSk7Cg=="},{"version":3,"file":"/home/mi/XProjects/vue3/vue3-ncov/src/pages/home.vue.ts","sourceRoot":"","sources":["/home/mi/XProjects/vue3/vue3-ncov/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mi/XProjects/vue3/vue3-ncov/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mi/XProjects/vue3/vue3-ncov/src/pages/home.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";AAmBA,OAAO,EAAE,eAAe,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,sBAAsB,CAAA;AAC3E,OAAO,EAAE,YAAY,EAAE,eAAe,EAAE,YAAY,EAAE,MAAM,eAAe,CAAA;AAC3E,OAAO,WAAW,MAAM,qBAAqB,CAAA;AAC7C,OAAO,MAAM,MAAM,yBAAyB,CAAA;AAU5C,eAAe,eAAe,CAAC;IAC3B,UAAU,EAAE;QACR,MAAM,QAAA;KACT;IACD,KAAK,EAAL,UAAM,KAAK,EAAE,OAAO;QAApB,iBAwDC;QAvDG,IAAM,YAAY,GAAG,CAAC,EAAC,KAAK,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAC,CAAC,CAAA;QACpD,KAA6B,UAA2B,EAA3B,KAAA,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAA3B,cAA2B,EAA3B,IAA2B,EAAE;YAA/C,IAAA,WAAc,EAAb,aAAK,EAAE,aAAK;YACpB,YAAY,CAAC,IAAI,CAAC;gBACd,KAAK,OAAA;gBACL,KAAK,OAAA;aACR,CAAC,CAAA;SACL;QACD,IAAM,MAAM,GAAa;YACrB,QAAQ,EAAE,EAAE;YACZ,QAAQ,EAAE,IAAI;YACd,OAAO,EAAE,OAAO;YAChB,OAAO,EAAE,EAAE;YACX,YAAY,EAAE,YAAY;YAC1B,OAAO,EAAE,EAAE;SAEd,CAAA;QACD,IAAM,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAA;QAE9B,OAAO,CAAC,GAAG,CAAC,SAAS,EAAC,KAAK,CAAC,CAAA;QAE5B,UAAU;QACV,IAAM,UAAU,GAAG,UAAO,OAAe;;;;;6BACrB,CAAA,OAAO,KAAK,OAAO,CAAA,EAAnB,wBAAmB;wBAAG,qBAAM,YAAY,EAAE,EAAA;;wBAApB,KAAA,SAAoB,CAAA;;4BAAG,qBAAM,eAAe,CAAC,OAAO,CAAC,EAAA;;wBAA9B,KAAA,SAA8B,CAAA;;;wBAArF,OAAO,KAA8E;wBAC3F,KAAK,CAAC,OAAO,GAAG,OAAO,CAAA;;;;aAC1B,CAAA;QAED,IAAM,UAAU,GAAG;;;;4BACH,qBAAM,YAAY,EAAE,EAAA;;wBAA1B,GAAG,GAAG,SAAoB;wBAChC,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,CAAA;wBACnB,KAAqB,GAAG,CAAC,IAAI,EAA3B,IAAI,UAAA,EAAE,QAAQ,cAAA,CAAa;wBACnC,IAAI,IAAI,KAAK,GAAG,EAAE;4BACd,KAAK,CAAC,OAAO,GAAG,QAAQ,CAAC,GAAG,CAAC,UAAC,IAAQ;gCAClC,kBACI,IAAI,EAAE,IAAI,CAAC,iBAAiB,EAC5B,KAAK,EAAE,IAAI,CAAC,cAAc,IACvB,IAAI,EACV;4BACL,CAAC,CAAC,CAAC;yBACN;;;;aACJ,CAAA;QAED,IAAM,oBAAoB,GAAG,UAAC,KAAa;YACvC,UAAU,CAAC,KAAK,CAAC,CAAA;QACrB,CAAC,CAAA;QAED,SAAS,CAAE;YACP,kBAAkB;YAClB,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,CAAA;YACzB,UAAU,EAAE,CAAA;QAChB,CAAC,CAAC,CAAA;QAEF,OAAO;YACH,KAAK,OAAA;YACL,oBAAoB,sBAAA;SACvB,CAAA;IACL,CAAC;CACJ,CAAC,CAAA","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, reactive, onMounted } from '@vue/composition-api'\nimport { getChinaJson, getProvinceJson, getVirusData } from '@/service/API'\nimport provinceMap from '@/data/province-map'\nimport HotMap from '@/components/hotMap.vue'\n\nexport interface HomeState {\n    mapTitle: string,\n    mapType: string,\n    mapList: any[],\n    provinceList: any[],\n    province: string, \n    mapData: {}\n}\nexport default createComponent({\n    components: {\n        HotMap\n    },\n    setup(props, context) {\n        const provinceList = [{label: '全国', value: 'china'}]\n        for (const [label, value] of Object.entries(provinceMap)) {\n            provinceList.push({\n                label,\n                value\n            })\n        }\n        const origin:HomeState = {\n            mapTitle: '',\n            province: '全国',\n            mapType: 'china',\n            mapList: [],\n            provinceList: provinceList,\n            mapData: {}\n\n        }\n        const state = reactive(origin)\n\n        console.log('state=>',state)\n\n        // methods\n        const getMapData = async (mapType: string) => {\n            const mapData = mapType === 'china' ? await getChinaJson() : await getProvinceJson(mapType)\n            state.mapData = mapData\n        }\n\n        const getMapList = async () => {\n            const res = await getVirusData()\n            console.log('res=>', res)\n            const { code, newslist } = res.data\n            if (code === 200) {\n                state.mapList = newslist.map((item:any) => {\n                    return {\n                        name: item.provinceShortName,\n                        value: item.confirmedCount,\n                        ...item\n                    }\n                });\n            }\n        }\n\n        const handleChangeProvince = (value: string) => {\n            getMapData(value)\n        }\n\n        onMounted (() => {\n            // this.initData()\n            getMapData(state.mapType)\n            getMapList()\n        })\n\n        return {\n            state, \n            handleChangeProvince\n        }\n    }\n})\n"]}]}